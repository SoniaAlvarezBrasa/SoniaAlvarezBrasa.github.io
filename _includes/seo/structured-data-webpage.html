<script type="application/ld+json">
{
    "@context": "http://schema.org", {% if page.path contains '_posts/' %}
    "@type":"Article",
    "articleBody": "{{ page.content | markdownify | strip_html | strip_newlines | escape_once }}",
    "mainEntityOfPage":{
        "@type":"Blog",
        "name": "{% if page.title %}{{ page.title | append: site.prefix | escape }}{% else %}{{ site.title[page.lang] | append: site.prefix | escape }}{% endif %}",
        "description": "{% if page.metaDescription %}{{ page.metaDescription }}{% elsif page.description %}{{ page.description }}{% elsif page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 156 }}{% else %}{{ site.description[page.lang] }}{% endif %}",
        "publisher": {
            {% include seo/structured-data-publisher.html %}
        },
        "@id":"{{ page.url | prepend: site.url }}"
    },
    {% include seo/structured-data-article.html pageref=page %} {% elsif page.person %}
    "@type":"ProfilePage",
    "text": "{{ page.content | markdownify | strip_html | strip_newlines | escape_once }}",
    "mainEntityOfPage":{
        "@type":"WebPage",
        "name": "{% if page.title %}{{ page.title | append: site.prefix | escape }}{% else %}{{ site.title[page.lang] | append: site.prefix | escape }}{% endif %}",
        "description": "{% if page.metaDescription %}{{ page.metaDescription }}{% elsif page.description %}{{ page.description }}{% elsif page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 156 }}{% else %}{{ site.description[page.lang] }}{% endif %}",
        "@id":"{{ page.url | prepend: site.url }}"
    },
    {% include seo/structured-data-article.html pageref=page %} {% elsif page.ref == 'about' %}
    "@type":"AboutPage",
    "text": "{{ page.content | markdownify | strip_html | strip_newlines | escape_once }}",
    "mainEntityOfPage":{
        "@type":"WebPage",
        "name": "{% if page.title %}{{ page.title | append: site.prefix | escape }}{% else %}{{ site.title[page.lang] | append: site.prefix | escape }}{% endif %}",
        "description": "{% if page.metaDescription %}{{ page.metaDescription }}{% elsif page.description %}{{ page.description }}{% elsif page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 156 }}{% else %}{{ site.description[page.lang] }}{% endif %}",
        "@id":"{{ page.url | prepend: site.url }}"
    },
    {% include seo/structured-data-article.html pageref=page %} {% elsif page.ref == 'contact' %}
    "@type":"ContactPage",
    "text": "{{ page.content | markdownify | strip_html | strip_newlines | escape_once }}",
    "mainEntityOfPage":{
        "@type":"WebPage",
        "name": "{% if page.title %}{{ page.title | append: site.prefix | escape }}{% else %}{{ site.title[page.lang] | append: site.prefix | escape }}{% endif %}",
        "description": "{% if page.metaDescription %}{{ page.metaDescription }}{% elsif page.description %}{{ page.description }}{% elsif page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 156 }}{% else %}{{ site.description[page.lang] }}{% endif %}",
        "publisher": {
            {% include seo/structured-data-publisher.html %}
        },
        "@id":"{{ page.url | prepend: site.url }}"
    },
    {% include seo/structured-data-article.html pageref=page %} {% else %}
    "@type":"WebPage",
    {% include seo/structured-data-article.html pageref=page %} {% endif %}
}
</script>
